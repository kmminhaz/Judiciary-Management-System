$(function(){function e(e,t,s,a){var i=Math.ceil(t*c/x);Math.ceil(e*x/c),i>=e?(z=_,b=Math.ceil(z*e/t)):(b=v,z=Math.ceil(b*t/e)),s<0&&a<0?(h=Math.ceil((v-b)/2),w=Math.ceil((_-z)/2)):(h=s,w=a),b>v&&(b=v),z>_&&(z=_),e==c&&t==x&&(b=v,z=_,h=0,w=0),f.center.css({width:b+"px",height:z+"px","margin-left":h+"px","margin-top":w+"px"}),f.top.css({"margin-left":"0px","margin-top":w-_+"px"}),f.bottom.css({"margin-left":"0px","margin-top":w+z+"px"}),f.left.css({"margin-left":h-v+"px","margin-top":"0px"}),f.right.css({"margin-left":h+b+"px","margin-top":"0px"}),$("#wallpaper_size_boxes_selected").text(o+"x"+p),$("#wallpaper_size_boxes_screen").text(l+"x"+n),$("#canvas1_center_size_box").text(o+"x"+p),$("#js_content_group1_screen_size").text(l+"x"+n)}function t(t,s){g=$("#wallpaper_size_boxes").offset().top,e(o=t,p=s,-1,-1),$("html, body").animate({scrollTop:g-20},500)}var s=$("#wallpaper_size_boxes_original").text().split("x"),a=parseInt(s[0]),r=parseInt(s[1]),l=screen.width,n=screen.height,o=a,p=r,u=$(window).width(),d=$(window).height(),c=page_wall_data.width,x=page_wall_data.height,v=748;u<480?v=360:u<768?v=420:u<1200&&(v=616);var _=Math.floor(v*x/c),g=$("#wallpaper_size_boxes").offset().top,f={wrapper:$("#canvas1_wrap"),center:$("#canvas1_wrap .center:first"),left:$("#canvas1_wrap .left:first"),right:$("#canvas1_wrap .right:first"),top:$("#canvas1_wrap .top:first"),bottom:$("#canvas1_wrap .bottom:first")};f.wrapper.css({width:v+"px",height:_+"px"});var h=0,w=0,b=0,z=0;e(o,p,-1,-1);var m=document.getElementById("canvas1_wrap");m.onmousedown=function(t){var s=t.pageX,a=t.pageY,i=h,r=w;document.onmousemove=function(t){xEnd=t.pageX,yEnd=t.pageY,ls=xEnd-s+i,ts=yEnd-a+r,ls<1?ls=0:ls>=v-b&&(ls=v-b),ts<1?ts=0:ts>=_-z&&(ts=_-z),e(o,p,ls,ts)},document.onmouseup=function(){document.onmousemove=null,document.onmouseup=null}};var I=!1;m.addEventListener("touchstart",function(t){I=!0,$("#canvas1_wrap").addClass("js_tocuh_active");var s=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY,i=h,r=w;document.addEventListener("touchmove",function(t){I&&(t.preventDefault(),xEnd=t.changedTouches[0].pageX,yEnd=t.changedTouches[0].pageY,ls=xEnd-s+i,ts=yEnd-a+r,ls<1?ls=0:ls>=v-b&&(ls=v-b),ts<1?ts=0:ts>=_-z&&(ts=_-z),e(o,p,ls,ts))}),document.addEventListener("touchend",function(){I=!1,$("#canvas1_wrap").removeClass("js_tocuh_active")})}),$("#sizeswrap1").on("click",".button",function(){var e=$(this).text().split("x");t(parseInt(e[0]),parseInt(e[1]))}),$("#wallpaper_size_boxes_screen,#wallpaper_size_boxes_original").click(function(){var e=$(this).text().split("x");t(parseInt(e[0]),parseInt(e[1]))}),$("#content_group1").on("click",".size_selector",function(){var e=$(this).text().split("x");t(parseInt(e[0]),parseInt(e[1]))});var C={r:{wrap:$("#color_slider_line_r"),slider:$("#color_slider_line_r .slider:first"),def_value:parseInt($("#color_slider_line_r .slider:first").val()),value:parseInt($("#color_slider_line_r .slider:first").val())},g:{wrap:$("#color_slider_line_g"),slider:$("#color_slider_line_g .slider:first"),def_value:parseInt($("#color_slider_line_g .slider:first").val()),value:parseInt($("#color_slider_line_g .slider:first").val())},b:{wrap:$("#color_slider_line_b"),slider:$("#color_slider_line_b .slider:first"),def_value:parseInt($("#color_slider_line_b .slider:first").val()),value:parseInt($("#color_slider_line_b .slider:first").val())},contrast:{wrap:$("#color_slider_line_contrast"),slider:$("#color_slider_line_contrast .slider:first"),def_value:parseInt($("#color_slider_line_contrast .slider:first").val()),value:parseInt($("#color_slider_line_contrast .slider:first").val())},bright:{wrap:$("#color_slider_line_bright"),slider:$("#color_slider_line_bright .slider:first"),def_value:parseInt($("#color_slider_line_bright .slider:first").val()),value:parseInt($("#color_slider_line_bright .slider:first").val())},bw:{e:$("#can1_bw"),status:0},negate:{e:$("#can1_negate"),status:0},flip_h:{e:$("#can1_flip_h"),status:0},flip_v:{e:$("#can1_flip_v"),status:0}};window.onload=function(){function t(){var e=document.getElementById("canvas1"),t=e.getContext("2d");e.width=v,e.height=_;var s=document.getElementById("canvas1_midi_img");t.clearRect(0,0,v,_),t.drawImage(s,0,0,v,_);for(var a=t.getImageData(0,0,v,_),i=a.data,r=i.length,l=0;l<r;l+=4)i[l]+=C.r.value,i[l+1]+=C.g.value,i[l+2]+=C.b.value;if(0!=C.bright.value)for(l=0;l<r;l+=4)i[l]+=C.bright.value,i[l+1]+=C.bright.value,i[l+2]+=C.bright.value;if(0!=C.contrast.value)for(var n=259*(C.contrast.value+255)/(255*(259-C.contrast.value)),l=0;l<r;l+=4)i[l]=n*(i[l]-128)+128,i[l+1]=n*(i[l+1]-128)+128,i[l+2]=n*(i[l+2]-128)+128;if(1==C.bw.status)for(l=0;l<r;l+=4){var o=.3*i[l]+.59*i[l+1]+.11*i[l+2];i[l]=o,i[l+1]=o,i[l+2]=o}if(1==C.negate.status)for(l=0;l<r;l+=4)i[l]=255-i[l],i[l+1]=255-i[l+1],i[l+2]=255-i[l+2];t.putImageData(a,0,0),1==C.flip_h.status&&0==C.flip_v.status?(t.scale(-1,1),t.drawImage(e,-1*v,0,v,_)):1==C.flip_v.status&&0==C.flip_h.status?(t.scale(1,-1),t.drawImage(e,0,-1*_,v,_)):1==C.flip_v.status&&1==C.flip_h.status&&(t.scale(-1,-1),t.drawImage(e,-1*v,-1*_,v,_))}function s(){C.r.value=C.r.def_value,C.g.value=C.g.def_value,C.b.value=C.b.def_value,C.bright.value=C.bright.def_value,C.contrast.value=C.contrast.def_value,C.r.slider.val(C.r.value),C.r.wrap.find(".value:first").text(C.r.value),C.g.slider.val(C.g.value),C.g.wrap.find(".value:first").text(C.g.value),C.b.slider.val(C.b.value),C.b.wrap.find(".value:first").text(C.b.value),C.bright.slider.val(C.bright.value),C.bright.wrap.find(".value:first").text(C.bright.value),C.contrast.slider.val(C.contrast.value),C.contrast.wrap.find(".value:first").text(C.contrast.value),C.bw.status=0,C.bw.e.removeClass("selected"),C.negate.status=0,C.negate.e.removeClass("selected"),C.flip_h.status=0,C.flip_h.e.removeClass("selected"),C.flip_v.status=0,C.flip_v.e.removeClass("selected"),t()}function a(){if(c.css("display","inline-block"),x.css("display","none"),g>0)g-=100;else{clearInterval(i);var e=Math.floor(h*o/b),t=Math.floor(w*p/z);wall_name=page_wall_data.name+"-"+Date.now()+"-"+Math.floor(1e4*Math.random()+1)+"."+r,$.ajax({type:"post",url:"https://wallup.net/wp-content/themes/wallupv2/crop/wallpaper.php",data:{id:page_wall_data.id,name:wall_name,path_url:void 0!==page_wall_data.path_url?page_wall_data.path_url:"",w:o,h:p,ls:e,ts:t,r:C.r.value,g:C.g.value,b:C.b.value,bright:C.bright.value,contrast:C.contrast.value,bw:C.bw.status,negate:C.negate.status,fliph:C.flip_h.status,flipv:C.flip_v.status,file_type:r,x:"create1"}}).done(function(e){"1"==e?window.location.href="https://wallup.net/wp-content/themes/wallupv2/crop/wallpaper.php?x=download1&name="+wall_name:alert(e),setTimeout(function(){x.css("display","inline-block"),c.css("display","none")},3e3)}).fail(function(){alert("Bir hata olu≈ütu. [J7]"),x.css("display","inline-block"),c.css("display","none")})}}t(),C.bright.slider.change(function(){C.bright.value=parseInt($(this).val()),C.bright.wrap.find(".value:first").text(C.bright.value),t()}),C.contrast.slider.change(function(){C.contrast.value=parseInt($(this).val()),C.contrast.wrap.find(".value:first").text(C.contrast.value),t()}),C.r.slider.change(function(){C.bw.status=0,C.bw.e.removeClass("selected"),C.r.value=parseInt($(this).val()),C.r.wrap.find(".value:first").text(C.r.value),t()}),C.g.slider.change(function(){C.bw.status=0,C.bw.e.removeClass("selected"),C.g.value=parseInt($(this).val()),C.g.wrap.find(".value:first").text(C.g.value),t()}),C.b.slider.change(function(){C.bw.status=0,C.bw.e.removeClass("selected"),C.b.value=parseInt($(this).val()),C.b.wrap.find(".value:first").text(C.b.value),t()}),C.bw.e.click(function(){0==C.bw.status?(C.bw.status=1,$(this).addClass("selected")):(C.bw.status=0,$(this).removeClass("selected")),t()}),C.negate.e.click(function(){0==C.negate.status?(C.negate.status=1,$(this).addClass("selected")):(C.negate.status=0,$(this).removeClass("selected")),t()}),C.flip_h.e.click(function(){0==C.flip_h.status?(C.flip_h.status=1,$(this).addClass("selected")):(C.flip_h.status=0,$(this).removeClass("selected")),t()}),C.flip_v.e.click(function(){0==C.flip_v.status?(C.flip_v.status=1,$(this).addClass("selected")):(C.flip_v.status=0,$(this).removeClass("selected")),t()}),$("#can1_color_reset").click(function(){s()}),$(window).resize(function(){l==screen.width&&u==$(window).width()||(l=screen.width,n=screen.height,o=l,p=n,u=$(window).width(),d=$(window).height(),v=748,u<480?v=360:u<768?v=420:u<1200&&(v=616),_=Math.floor(v*page_wall_data.height/page_wall_data.width),t(),f.wrapper.css({width:v+"px",height:_+"px"}),e(o,p,-1,-1))});var i,r="jpg",c=$("#download1_loader"),x=$("#download1"),g=1e3;$("#download1").click(function(){var e=$("select#mime_type_select").val();"jpg"!=e&&"png"!=e&&"webp"!=e||(r=e),$("#runbox .ajaxabs1").stop().fadeIn(200),clearInterval(i),g=1e3,i=setInterval(a,100)})};var y={sizegroup4x3:["640x480","800x600","1024x768","1152x864","1280x960","1400x1050","1440x1080","1600x1200","1680x1260","1920x1440","2048x1536","2560x1920","2800x2100","3200x2400"],sizegroup5x4:["1280x1024","2560x2048","3750x3000"],sizegroup8x5:["960x600","1024x640","1152x720","1280x800","1440x900","1680x1050","1920x1200","2560x1600","2880x1800","3840x2400"],sizegroup5x3:["800x480","1280x768"],sizegroup16x9:["960x540","1024x576","1280x720","1366x768","1600x900","1920x1080","2048x1152","2400x1350","2560x1440","2880x1620","3554x1999","3840x2160"],sizegroup3x2:["480x320","960x640","1152x768","1440x960","2000x1333"],sizegroup3x4:["480x640","600x800","768x1024","864x1152","960x1280","1050x1400","1080x1440","1200x1600","1260x1680","1440x1920","1536x2048","1920x2560","2100x2800","2400x3200"],sizegroup4x5:["1024x1280","2048x2560","3000x3750"],sizegroup3x5:["480x800","768x1280"],sizegroup2x3:["320x480","640x960","768x1152","960x1440"],sizegroup1x1:["1024x1024","1280x1280","1366x1366","2048x2048"],sizegroup8x3:["1600x600","2048x768","2304x864","2560x960","2800x1050","2880x1080","3200x1200","3360x1260","3840x1440"],sizegroup5x2:["2560x1024"],sizegroup16x5:["1920x600","2304x720","2560x800","2880x900","3360x1050"],sizegroup10x3:["1600x480","2560x768"],sizegroup32x9:["1920x540","2048x576","2560x720","3200x900","3840x1080"]};for(i in y.sizegroup4x3)$("#sizegroup_4x3").append('<div class="button">'+y.sizegroup4x3[i]+"</div> ");for(i in y.sizegroup5x4)$("#sizegroup_5x4").append('<div class="button">'+y.sizegroup5x4[i]+"</div> ");for(i in y.sizegroup8x5)$("#sizegroup_8x5").append('<div class="button">'+y.sizegroup8x5[i]+"</div> ");for(i in y.sizegroup5x3)$("#sizegroup_5x3").append('<div class="button">'+y.sizegroup5x3[i]+"</div> ");for(i in y.sizegroup16x9)$("#sizegroup_16x9").append('<div class="button">'+y.sizegroup16x9[i]+"</div> ");for(i in y.sizegroup3x2)$("#sizegroup_3x2").append('<div class="button">'+y.sizegroup3x2[i]+"</div> ");for(i in y.sizegroup3x4)$("#sizegroup_3x4").append('<div class="button">'+y.sizegroup3x4[i]+"</div> ");for(i in y.sizegroup4x5)$("#sizegroup_4x5").append('<div class="button">'+y.sizegroup4x5[i]+"</div> ");for(i in y.sizegroup3x5)$("#sizegroup_3x5").append('<div class="button">'+y.sizegroup3x5[i]+"</div> ");for(i in y.sizegroup2x3)$("#sizegroup_2x3").append('<div class="button">'+y.sizegroup2x3[i]+"</div> ");for(i in y.sizegroup1x1)$("#sizegroup_1x1").append('<div class="button">'+y.sizegroup1x1[i]+"</div> ");for(i in y.sizegroup8x3)$("#sizegroup_8x3").append('<div class="button">'+y.sizegroup8x3[i]+"</div> ");for(i in y.sizegroup5x2)$("#sizegroup_5x2").append('<div class="button">'+y.sizegroup5x2[i]+"</div> ");for(i in y.sizegroup16x5)$("#sizegroup_16x5").append('<div class="button">'+y.sizegroup16x5[i]+"</div> ");for(i in y.sizegroup10x3)$("#sizegroup_10x3").append('<div class="button">'+y.sizegroup10x3[i]+"</div> ");for(i in y.sizegroup32x9)$("#sizegroup_32x9").append('<div class="button">'+y.sizegroup32x9[i]+"</div> ");$("#sizeswrap1 .button").each(function(){var e=$(this).text().split("x"),t=parseInt(e[0]),s=parseInt(e[1]);t==screen.width&&s==screen.height&&$(this).addClass("selected")})});